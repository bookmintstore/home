<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PremAnand Ji‚Äôs Zero-Disturbance Mindset code</title>

  <link rel="icon" type="image/png" href="https://bookmintor.shop/images/logo.png">

  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/lucide@latest"></script>
  <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet" />
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

  <script>
    document.addEventListener('contextmenu', event => event.preventDefault());
    document.onkeydown = function(e) {
      if (e.keyCode == 123) return false;
      if (e.ctrlKey && e.shiftKey && (e.keyCode == 'I'.charCodeAt(0) || e.keyCode == 'J'.charCodeAt(0) || e.keyCode == 'C'.charCodeAt(0))) return false;
      if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
      if (e.ctrlKey && e.keyCode == 'S'.charCodeAt(0)) return false;
    };
  </script>

  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: { brandGreen: '#10b981', brandDark: '#0b0e13' },
          boxShadow: {
            glow: '0 12px 36px -12px rgba(99,102,241,0.7)',
            ctaglow: '0 12px 40px -12px rgba(168,85,247,.7)',
            book: '0 28px 60px -18px rgba(0, 0, 0, 0.65)',
            modalGlow: '0 0 40px rgba(168,85,247,0.75), 0 0 20px rgba(99,102,241,0.65)',
            saleGlow: '0 0 15px rgba(34, 197, 94, 0.4)'
          },
          animation: {
            shine: 'shine 1.6s ease-in-out infinite',
            btnshine: 'btnshine 3.0s ease-in-out infinite',
            slideUp: 'slideUp .45s ease-out forwards',
            cornerPop: 'cornerPop .95s ease-out 0.15s 1 forwards',
            aura: 'aura 2.4s ease-in-out infinite',
            coverFast: 'coverFast 0.45s linear infinite',
            glowspin: 'glowspin 1.2s linear infinite',
            modalFadeIn: 'modalFadeIn 0.35s ease-out forwards',
            modalFadeOut: 'modalFadeOut 0.4s ease-in forwards',
            tagShine: 'tagShine 1.0s ease-in-out infinite',
            shakeModal: 'shakeModal 0.5s ease-in-out 1',
            shakeInput: 'shakeInput 0.4s ease-in-out 1', 
            redGlow: 'redGlow 2.5s infinite ease-in-out',
            subtleZoomIn: 'subtleZoomIn 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards',
            popFloat: 'popFloat 3s ease-in-out infinite',
            pulseArrow: 'pulseArrow 1.2s ease-in-out infinite 0.5s',
            'gradient-shift': 'gradient-shift 8s ease infinite',
            rollUpSmooth: 'rollUpSmooth 2.5s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
            snakeRotate: 'snakeRotate 4s linear infinite',
            priceSlash: 'priceSlash 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards',
          },
          keyframes: {
            shine: { '0%': { transform: 'translateX(-140%)' }, '100%': { transform: 'translateX(140%)' } },
            btnshine: { '0%': { transform: 'translateX(-140%) skewX(-30deg)' }, '100%': { transform: 'translateX(220%) skewX(-30deg)' } },
            slideUp: { '0%': {opacity:'0', transform:'translateY(20px)'}, '100%':{opacity:'1', transform:'translateY(0)'} },
            cornerPop: { '0%': { opacity: 0, transform:'scale(.95)' }, '40%': { opacity: .95 }, '100%': { opacity: 0, transform:'scale(1)' } },
            aura: { '0%': { boxShadow: '0 0 12px rgba(168,85,247,0.6)' }, '50%': { boxShadow: '0 0 26px rgba(168,85,247,0.95)' }, '100%': { boxShadow: '0 0 12px rgba(168,85,247,0.6)' } },
            coverFast: { '0%': { transform: 'translateX(-160%) skewX(-10deg)' }, '100%': { transform: 'translateX(160%) skewX(-10deg)' } },
            glowspin: { '0%': { transform: 'rotate(0deg)' }, '100%': { transform: 'rotate(360deg)' } },
            modalFadeIn: { '0%': { opacity: 0, transform: 'translateY(20px) scale(0.95)' }, '100%': { opacity: 1, transform: 'translateY(0) scale(1)' } },
            modalFadeOut: { '0%': { opacity: 1, transform: 'translateY(0) scale(1)' }, '100%': { opacity: 0, transform: 'translateY(-10px) scale(1.05)' } },
            tagShine: { '0%': { transform: 'translateX(-140%) skewX(-30deg)' }, '100%': { transform: 'translateX(220%) skewX(-30deg)' } },
            shakeModal: { '0%, 100%': { transform: 'translateX(0)' }, '10%, 90%': { transform: 'translateX(-4px)' }, '50%': { transform: 'translateX(4px)' } },
            shakeInput: { '0%, 100%': { transform: 'translateX(0)' }, '20%, 60%': { transform: 'translateX(-5px)' }, '40%, 80%': { transform: 'translateX(5px)' } },
            redGlow: { '0%, 100%': { boxShadow: '0 0 8px rgba(239, 68, 68, 0.6)' }, '50%': { boxShadow: '0 0 16px rgba(239, 68, 68, 1)' } },
            subtleZoomIn: { '0%': { opacity: 0, transform: 'scale(0.96) translateY(5px)' }, '100%': { opacity: 1, transform: 'scale(1) translateY(0)' } },
            popFloat: { '0%, 100%': { transform: 'scale(1) translateY(0px)', opacity: 0.9 }, '50%': { transform: 'scale(1.05) translateY(-2px)', opacity: 1 } },
            pulseArrow: { '0%': { transform: 'translateX(0px)', opacity: 0.5 }, '50%': { transform: 'translateX(6px)', opacity: 1 }, '100%': { transform: 'translateX(0px)', opacity: 0.5 } },
            'gradient-shift': { '0%': { 'background-position': '0% 50%' }, '50%': { 'background-position': '100% 50%' }, '100%': { 'background-position': '0% 50%' } },
            rollUpSmooth: {
                '0%': { transform: 'translateY(12px)', opacity: 0 },
                '15%': { transform: 'translateY(0)', opacity: 1 },
                '85%': { transform: 'translateY(0)', opacity: 1 },
                '100%': { transform: 'translateY(-12px)', opacity: 0 }
            },
            snakeRotate: { '0%': { transform: 'translate(-50%, -50%) rotate(0deg)' }, '100%': { transform: 'translate(-50%, -50%) rotate(360deg)' } },
            priceSlash: { '0%': { transform: 'scale(1)', opacity: 1 }, '50%': { transform: 'scale(1.2) rotate(-10deg)', opacity: 0.8 }, '100%': { transform: 'scale(0) rotate(20deg)', opacity: 0 } },
          }
        }
      }
    }
  </script>

  <style>
    /* BASIC SETUP */
    @keyframes waveJump { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    @keyframes gradient-shift { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }

    body {
        font-family:'Poppins',sans-serif;
        overflow-x: hidden;
        scroll-behavior: smooth; 
    }
    
    /* --- PREMIUM SNAKE ANIMATION (FIXED & SMOOTH) --- */
    .snake-container {
        position: relative;
        display: none; /* Changed display to none by default */
        padding: 2px; /* Border thickness */
        border-radius: 12px;
        z-index: 100; 
        margin-left: 10px;
        background: transparent;
        overflow: hidden;
    }
    
    .snake-container.visible {
        display: inline-flex;
    }
    
    /* The Rotating Gradient Background */
    .snake-border {
        position: absolute;
        inset: -50%; 
        width: 200%;
        height: 200%;
        top: -50%;
        left: -50%;
        background: conic-gradient(transparent 0deg, transparent 270deg, #10b981 320deg, #34d399 340deg, transparent 360deg);
        animation: snakeRotate 3s linear infinite;
        opacity: 0;
        transition: opacity 0.8s ease;
        z-index: 0; 
        pointer-events: none;
    }

    /* Soft Glow Behind */
    .snake-glow {
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 100%; height: 100%;
        background: #10b981;
        filter: blur(15px);
        opacity: 0;
        transition: opacity 0.8s ease;
        z-index: -1;
    }

    /* Active State */
    .snake-active .snake-border { opacity: 1; }
    .snake-active .snake-glow { opacity: 0.6; }
    
    /* The Button Itself */
    .unlock-btn {
        position: relative;
        z-index: 10; 
        display: flex;
        align-items: center;
        gap: 6px;
        background-color: white;
        color: #10b981; 
        padding: 8px 16px; 
        border-radius: 10px; 
        font-weight: 700;
        font-size: 0.9rem; 
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        cursor: pointer;
        border: none;
        transition: transform 0.2s, box-shadow 0.2s;
        margin: 0;
    }
    
    .snake-mask {
        position: absolute;
        inset: 1px;
        background: #0b0e13; 
        border-radius: 11px;
        z-index: 1;
    }
    
    .snake-container .unlock-btn { margin: 0; }
    .unlock-btn:hover { transform: scale(1.03); }

    /* CTA BUTTONS */
    .cta-btn{ position:relative; overflow:hidden; animation: aura 2.4s ease-in-out infinite; box-shadow: 0 8px 30px rgba(124,58,237,0.25); }
    .cta-btn .cta-shine{ position:absolute; inset:-6px; transform:translateX(-140%) skewX(-30deg); background:linear-gradient(90deg,rgba(255,255,255,0) 0%, rgba(255,255,255,0.43) 45%, rgba(255,255,255,0.15) 60%, rgba(255,255,255,0) 100%); transition: opacity 0.2s; opacity: 0.90; mix-blend-mode: screen; pointer-events:none; }
    .cta-btn:hover .cta-shine { opacity: 1; }
    .cta-btn .corner-bling{ pointer-events:none; position:absolute; inset:-6px; border-radius:12px; background:radial-gradient(160px 160px at 0 0, rgba(255,255,255,.65), transparent 60%), radial-gradient(160px 160px at 100% 0, rgba(255,255,255,.5), transparent 60%), radial-gradient(160px 160px at 0 100%, rgba(255,255,255,.5), transparent 60%), radial-gradient(160px 160px at 100% 100%, rgba(255,255,255,.5), transparent 60%); opacity:0; filter: blur(6px); }
    .cta-btn:hover .corner-bling { opacity: .95; }

    /* BOOK 3D & DETAILS */
    .book-wrap { perspective:1600px; display:flex; align-items:center; justify-content:center; }
    .book-3d { width: 240px; height: 340px; position: relative; transform-style: preserve-3d; transform: rotateY(-12deg) rotateX(4deg); transition: transform .35s ease; margin: 12px; }
    .book-3d:hover { transform: rotateY(-8deg) rotateX(6deg) translateY(-8px); }
    .cover { position:absolute; width: 100%; height: 100%; left: 0; top: 0; transform: translateZ(12px) rotateY(0deg); border-radius: 8px; overflow: hidden; box-shadow: 0 20px 40px rgba(0,0,0,0.45); background: linear-gradient(180deg,#111217,#0f1216); }
    .cover img { width:100%; height:100%; object-fit:cover; display:block; transition: opacity 0.28s ease, transform 0.28s ease; opacity:0; transform: scale(1.02); will-change: opacity, transform; }
    #coverFace { cursor: pointer; }
    .cover-shine { position:absolute; inset:0; z-index:20; pointer-events:none; background: linear-gradient(90deg, rgba(0,0,0,0) 0%, rgba(0,0,0,0.7) 28%, rgba(0,0,0,0.95) 50%, rgba(0,0,0,0.7) 72%, rgba(0,0,0,0) 100%); transform: translateX(-160%) skewX(-30deg); mix-blend-mode: multiply; opacity:0.95; animation: coverFast 0.45s linear infinite; transition: none; filter: blur(8px); }
    .cover-loading-spin { position: absolute; inset: 0; z-index: 7; pointer-events: none; display: flex; align-items: center; justify-content: center; opacity: 1; transition: opacity 0.4s ease-out; }
    .loading-half-wheel { width: 40px; height: 40px; border: 4px solid transparent; border-radius: 50%; border-top-color: #6366f1; border-left-color: #a855f7; box-shadow: 0 0 10px rgba(168, 85, 247, 0.7), inset 0 0 6px rgba(99, 102, 241, 0.5); }
    .cover.loaded .cover-loading-spin { opacity: 0; }
    .spine { position:absolute; left: -12px; top: 6px; width: 24px; height: calc(100% - 12px); transform-origin: left center; transform: rotateY(90deg) translateX(-12px); border-radius: 8px 0 0 8px; background: linear-gradient(180deg,#e6e6e8,#cfcfd3); box-shadow: inset 0 2px 6px rgba(0,0,0,0.06); }
    .pages { position:absolute; left: -8px; top: 10px; width: 16px; height: calc(100% - 20px); transform: rotateY(-90deg) translateX(-8px); background: linear-gradient(90deg,#fcfbf9,#f0efe9); border-radius: 4px 0 0 4px; box-shadow: inset 0 0 8px rgba(0,0,0,0.08); overflow:hidden; }
    .top-edge { position:absolute; top: -10px; left: 10px; width: calc(100% - 20px); height: 16px; transform: rotateX(90deg) translateY(-10px); background: linear-gradient(180deg,#fbfbfb,#f0efef); border-radius: 8px 8px 0 0; }
    .bottom-edge { position:absolute; bottom: -10px; left: 10px; width: calc(100% - 20px); height: 16px; transform: rotateX(-90deg) translateY(10px); background: linear-gradient(180deg,#fbfbfb,#f0efef); border-radius: 0 0 8px 8px; }
    .book-ghost { position:absolute; bottom: -28px; left: 20px; width: 70%; height: 28px; background: rgba(0,0,0,0.45); border-radius: 50%; filter: blur(16px); transform: rotateX(90deg); }
    @media (max-width:700px){ .book-3d { width: 170px; height: 245px; } }

    /* ROLL UP TAG */
    .subtle-tag { position: relative; overflow: hidden; display: inline-flex; align-items: center; gap: 4px; background-color: rgba(255, 255, 255, 0.08); backdrop-filter: blur(2px); border: 1px solid rgba(255, 255, 255, 0.15); font-size: 0.75rem; font-weight: 700; padding: 4px 10px; border-radius: 6px; box-shadow: 0 1px 4px rgba(0, 0, 0, 0.2); text-transform: uppercase; letter-spacing: 0.5px; cursor: default; margin-bottom: 8px; height: 26px; min-width: 120px; }
    .tag-text-wrapper { position: relative; height: 100%; display: flex; align-items: center; overflow: hidden; flex-grow: 1; }
    .tag-text { position: absolute; white-space: nowrap; background-image: linear-gradient(90deg, #a855f7, #6366f1, #e0f2f1); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; text-fill-color: transparent; line-height: 1; background-size: 200% auto; animation: gradient-shift 8s ease infinite; }
    .subtle-tag .tag-shine { position: absolute; inset: -6px; transform: translateX(-140%) skewX(-30deg); background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.4) 45%, rgba(255,255,255,0.1) 60%, rgba(255,255,255,0) 100%); mix-blend-mode: overlay; pointer-events: none; opacity: 0.8; animation: tagShine 3.0s ease-in-out infinite; }

    /* STATS & STARS */
    .stats-section { display: flex; justify-content: space-around; align-items: center; padding: 0; border-top: none; border-bottom: none; margin-top: 16px; }
    .stat-item { text-align: center; flex-grow: 1; padding: 0 8px; }
    .stat-value { font-size: 1.35rem; font-weight: 700; line-height: 1.1; color: #e0f2f1; margin-bottom: 4px; text-shadow: none; display: flex; align-items: center; justify-content: center; gap: 6px; }
    .stat-value svg { color: #a855f7; filter: drop-shadow(0 0 4px rgba(168,85,247,0.7)); }
    .stat-label { font-size: 0.75rem; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px; color: #94a3b8; }
    .star-glow svg { filter: drop-shadow(0 0 4px rgba(251, 191, 36, 0.6)); }
    .star-glow .filled { fill: #fbbf24; color: #fbbf24; }
    .star-glow .half { fill: transparent; color: #fbbf24; }
    .star-glow .empty { color: #475569; opacity: 0.45; }

    /* COUPON SECTION STYLES */
    .coupon-wrapper { display: flex; align-items: center; gap: 8px; margin-top: 14px; margin-bottom: 8px; }
    .coupon-input { background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.15); color: white; padding: 8px 12px; border-radius: 8px; font-size: 0.85rem; width: 140px; transition: all 0.3s; text-transform: uppercase; letter-spacing: 1px; }
    .coupon-input:focus { border-color: #a855f7; outline: none; box-shadow: 0 0 0 2px rgba(168,85,247,0.2); }
    .coupon-btn { background: rgba(255,255,255,0.1); border: 1px solid rgba(255,255,255,0.1); color: #cbd5e1; padding: 8px 12px; border-radius: 8px; font-size: 0.8rem; cursor: pointer; transition: all 0.3s; font-weight: 600; }
    .coupon-btn:hover { background: rgba(168,85,247,0.2); color: white; border-color: rgba(168,85,247,0.4); }
    .coupon-applied { border-color: #22c55e !important; color: #22c55e !important; background: rgba(34,197,94,0.1) !important; pointer-events: none; }
    .price-original { position: relative; display: inline-block; color: #9ca3af; text-decoration: line-through; }
    
    /* MODALS */
    /* IMPORTANT: .modal ensures fixed positioning covering entire screen and centering content */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.85); z-index: 1000; overflow: auto; align-items: center; justify-content: center; backdrop-filter: blur(4px); }
    .modal-content { position: relative; background-color: #ffffff; color: #1f2937; padding: 30px; border-radius: 12px; width: 80%; max-width: 400px; border: 1px solid rgba(0,0,0,0.1); box-shadow: 0 5px 20px rgba(0,0,0,0.5), 0 0 20px rgba(99,102,241,0.25); opacity: 0; transform: translateY(20px) scale(0.95); }
    #previewOverlay { position: absolute; inset: 0; z-index: 8; background: #111; opacity: 0; transition: opacity 0.3s ease; display: flex; align-items: center; justify-content: center; pointer-events: none; }
    #previewScreenshot { width: 100%; height: 100%; object-fit: cover; opacity: 0; border-radius: 8px; }

    /* DOWNLOAD BUTTON */
    .download-button { position: relative; overflow: hidden; display: inline-flex; align-items: center; justify-content: center; gap: 8px; background-color: #4CAF50; background-image: linear-gradient(135deg, #4CAF50, #10B981); color: white; padding: 12px 25px; margin-top: 0px; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 1.1em; cursor: pointer; border: none; transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.3s; box-shadow: 0 4px 15px rgba(16,185,129,0.4); }
    .download-button:hover:not(:disabled) { box-shadow: 0 6px 20px rgba(16,185,129,0.6); }
    .download-button:active:not(:disabled) { transform: scale(0.97); box-shadow: 0 2px 5px rgba(16,185,129,0.3); }
    .download-button .btn-shine { position: absolute; inset: -6px; transform: translateX(-140%) skewX(-30deg); background: linear-gradient(90deg,rgba(255,255,255,0) 0%, rgba(255,255,255,0.6) 45%, rgba(255,255,255,0.2) 60%, rgba(255,255,255,0) 100%); mix-blend-mode: screen; pointer-events: none; opacity: 1; animation: btnshine 3.0s ease-in-out infinite; }
    .download-button:disabled { opacity: 0.6; cursor: not-allowed; background-image: linear-gradient(135deg, #4CAF50, #10B981); box-shadow: none; transform: none; }

    .no-shine-button { position: relative; overflow: hidden; display: inline-flex; align-items: center; justify-content: center; gap: 8px; color: white; padding: 12px 25px; margin-top: 0px; text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 1.1em; cursor: pointer; border: none; transition: transform 0.1s ease, box-shadow 0.1s ease, opacity 0.3s; background-image: linear-gradient(135deg, #6366f1, #a855f7); box-shadow: 0 4px 15px rgba(168,85,247,0.4); }

    .modal-cover-wrap { width: 96px; height: 128px; overflow: hidden; border-radius: 6px; }
    .modal-cover-wrap img { width: 100%; height: 100%; object-fit: cover; }
    .feedback-textarea { resize: vertical; min-height: 100px; }

    /* FEEDBACKS */
    .user-avatar { width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; color: white; margin-right: 12px; flex-shrink: 0; }
    .feedback-item { display: flex; align-items: flex-start; padding: 16px; border-radius: 12px; background: rgba(255, 255, 255, 0.05); margin-bottom: 12px; transition: all 0.3s ease; }
    .feedback-item:hover { background: rgba(255, 255, 255, 0.08); transform: translateY(-2px); }
    .feedback-content { flex: 1; }
    .feedback-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 8px; }
    .user-info { display: flex; align-items: center; }
    .user-details { display: flex; flex-direction: column; }
    .user-name { font-weight: 600; font-size: 0.9rem; color: #e2e8f0; }
    .user-location { font-size: 0.75rem; color: #94a3b8; margin-top: 2px; }
    .feedback-date { font-size: 0.75rem; color: #64748b; text-align: right; }
    .feedback-text { font-size: 0.9rem; line-height: 1.5; color: #cbd5e1; margin-bottom: 8px; }
    .extra-feedback { display: none; }

    .jumping-loader { display: flex; justify-content: center; align-items: center; height: 60px; }
    .jumping-loader .ball { width: 14px; height: 14px; margin: 0 4px; background-color: #a855f7; border-radius: 50%; display: inline-block; }
    .jumping-loader .ball:nth-child(1) { animation: waveJump 0.8s ease-in-out infinite 0s; }
    .jumping-loader .ball:nth-child(2) { animation: waveJump 0.8s ease-in-out infinite 0.1s; }
    .jumping-loader .ball:nth-child(3) { animation: waveJump 0.8s ease-in-out infinite 0.2s; }

    /* PAYMENT & CONFIRMATION */
    #confirmationModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 3000; align-items: center; justify-content: center; opacity: 0; backdrop-filter: blur(0px); transition: opacity 0.3s ease, backdrop-filter 0.3s ease; }
    #confirmationModal.active { display: flex; opacity: 1; backdrop-filter: blur(4px); }
    #confirmationContent { background: #1e293b; backdrop-filter: none; border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 16px; padding: 24px; width: 80%; max-width: 380px; text-align: center; color: white; box-shadow: 0 10px 40px 0 rgba(0, 0, 0, 0.5); transition: box-shadow 0.3s ease; }
    .conf-text-glow { color: #f87171; font-weight: 700; font-size: 1.25rem; text-shadow: 0 0 12px rgba(239, 68, 68, 0.8); animation: redGlow 2.5s infinite ease-in-out; }
    .payment-modal-blur .modal-content#paymentModalContent { filter: blur(4px) brightness(0.7); pointer-events: none; transition: filter 0.3s ease; }
    #paymentTimer { display: none; position: fixed; top: 10px; left: 50%; transform: translateX(-50%); background: #ef4444; color: white; padding: 6px 16px; border-radius: 20px; font-weight: bold; z-index: 2010; box-shadow: 0 0 15px rgba(239,68,68,0.5); font-family: monospace; font-size: 1.0rem; }
    .invisible-shield { position: absolute; left: 0; width: 100%; height: 70px; background: transparent; z-index: 25; pointer-events: auto; }
    .payment-lang-btn { position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; gap: 10px; width: 100%; padding: 16px; margin-bottom: 12px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: 12px; color: white; font-weight: 600; font-size: 1.1rem; cursor: pointer; transition: all 0.3s ease; }
    .payment-lang-btn:hover { background: rgba(255,255,255,0.1); border-color: rgba(168, 85, 247, 0.5); transform: translateY(-2px); box-shadow: 0 8px 20px -6px rgba(168, 85, 247, 0.4); }
    .payment-lang-btn .btn-shine { position: absolute; inset: -6px; transform: translateX(-140%) skewX(-30deg); background: linear-gradient(90deg,rgba(255,255,255,0) 0%, rgba(255,255,255,0.2) 45%, rgba(255,255,255,0.1) 60%, rgba(255,255,255,0) 100%); mix-blend-mode: overlay; pointer-events: none; animation: btnshine 3.0s ease-in-out infinite; }

    /* BANNER */
    #saleBanner { display: none; background: linear-gradient(90deg, #ef4444, #b91c1c); padding: 8px; text-align: center; font-weight: 700; font-size: 0.9rem; box-shadow: 0 4px 20px rgba(239, 68, 68, 0.4); border-bottom: 1px solid rgba(255,255,255,0.1); }

    /* PREMIUM DASHBOARD (GLASSMORPHISM) */
    #productViewerModal { z-index: 4000; }
    #productViewerContent { width: 95%; max-width: 1000px; height: 85vh; padding: 0; background: #0f172a; display: flex; flex-direction: column; overflow: hidden; border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5); }
    .viewer-header { padding: 16px 24px; border-bottom: 1px solid rgba(255,255,255,0.08); display: flex; justify-content: space-between; align-items: center; background: rgba(15, 23, 42, 0.95); backdrop-filter: blur(10px); }
    .viewer-body { flex: 1; display: flex; height: 100%; overflow: hidden; }
    .viewer-sidebar { width: 240px; background: rgba(17, 24, 39, 0.6); border-right: 1px solid rgba(255,255,255,0.08); padding: 20px 12px; display: flex; flex-direction: column; gap: 8px; backdrop-filter: blur(5px); }
    .viewer-tab { padding: 12px 16px; border-radius: 10px; cursor: pointer; color: #94a3b8; transition: all 0.3s ease; font-size: 0.95rem; display: flex; align-items: center; gap: 12px; font-weight: 500; }
    .viewer-tab.active { background: linear-gradient(90deg, rgba(99,102,241,0.15) 0%, rgba(99,102,241,0) 100%); color: #818cf8; border-left: 3px solid #6366f1; }
    .viewer-main { flex: 1; padding: 30px; overflow-y: auto; background: radial-gradient(circle at top right, #1e293b 0%, #0f172a 60%); display: flex; align-items: center; justify-content: center; position: relative; }
    .viewer-section { display: none; width: 100%; height: 100%; flex-direction: column; align-items: center; justify-content: center; animation: modalFadeIn 0.4s ease-out; }
    .viewer-section.active { display: flex; }

    /* UNAVAILABLE / PREMIUM CARD STYLES */
    .premium-lock-card { background: rgba(255, 255, 255, 0.03); border: 1px solid rgba(168, 85, 247, 0.2); border-radius: 20px; padding: 40px; text-align: center; max-width: 450px; backdrop-filter: blur(10px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
    .premium-lock-icon { background: rgba(168, 85, 247, 0.1); width: 80px; height: 80px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px auto; }
    
    /* ZOOM CLASS FOR IMAGES */
    .viewer-zoom-img { cursor: zoom-in; transition: transform 0.3s ease; max-height: 100%; max-width: 100%; object-fit: contain; }
    .viewer-zoom-img.zoomed { transform: scale(1.5); cursor: zoom-out; }

    /* SMOOTH ACCORDION STYLE */
    .details-content {
        overflow: hidden;
        height: 0;
        opacity: 0;
        transition: height 0.3s ease-out, opacity 0.3s ease-out;
    }
    details[open] summary svg {
        transform: rotate(180deg);
    }
    summary {
        list-style: none;
        outline: none;
    }
    summary::-webkit-details-marker {
        display: none;
    }

    /* TOAST NOTIFICATION */
    #toastNotification {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%) translateY(-100px);
        background: rgba(16, 185, 129, 0.95);
        color: white;
        padding: 12px 24px;
        border-radius: 50px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        z-index: 5000;
        display: flex;
        align-items: center;
        gap: 10px;
        font-weight: 600;
        transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        border: 1px solid rgba(255,255,255,0.2);
    }
    #toastNotification.show {
        transform: translateX(-50%) translateY(0);
    }

    /* FIX: Added close button styling for Language Selection Modal */
    .language-modal-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        cursor: pointer;
        padding: 8px;
        border-radius: 50%;
        color: #94a3b8;
        z-index: 10;
        transition: color 0.2s;
    }
    .language-modal-close:hover {
        color: white;
    }

    /* PREMIUM LIST */
    .premium-list-container { margin-top: 10px; padding: 10px; padding-bottom: 0; }
    .premium-list-item { display: flex; align-items: flex-start; margin-bottom: 10px; font-size: 1.0rem; color: #cbd5e1; line-height: 1.4; }
    .premium-list-item strong { color: #e0f2f1; }
    .simple-tick { color: #34d399; filter: drop-shadow(0 0 3px rgba(52, 211, 153, 0.5)); font-size: 1.4rem; line-height: 1; margin-right: 10px; min-width: 20px; font-weight: 900; transform: translateY(-2px); }

    @media (max-width: 768px) { 
        .viewer-body { flex-direction: column; } 
        .viewer-sidebar { width: 100%; flex-direction: row; height: auto; padding: 12px; overflow-x: auto; border-right: none; border-bottom: 1px solid rgba(255,255,255,0.08); background: #111827; } 
        .viewer-tab { flex: 0 0 auto; justify-content: center; white-space: nowrap; padding: 10px 14px; font-size: 0.85rem; border-left: none; border-bottom: 3px solid transparent; border-radius: 4px; }
        .viewer-tab.active { background: transparent; border-left: none; border-bottom-color: #6366f1; color: #818cf8; }
    }
  </style>
</head>
<body class="bg-[#0b0e13] text-white selection:bg-indigo-500/30">

  <div id="toastNotification">
      <i data-lucide="check-circle" class="h-5 w-5"></i>
      <span id="toastMessage">Product Unlocked! Access Granted.</span>
  </div>

  <div class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute -top-56 -left-40 h-[680px] w-[680px] rounded-full bg-indigo-600/20 blur-[140px]"></div>
    <div class="absolute -bottom-56 -right-40 h-[600px] w-[600px] rounded-full bg-fuchsia-600/20 blur-[140px]"></div>
  </div>

  <div id="saleBanner">üî• FLASH SALE ENDING SOON: 88% OFF LIMITED TIME OFFER!</div>
  <div id="paymentTimer">Time Left: <span id="timerCount">04:00</span></div>

  <header class="max-w-7xl mx-auto px-6 py-4 flex items-center justify-between">
    <a href="index.html" class="flex items-center gap-2">
      <div class="relative overflow-hidden h-10 w-10 rounded-xl bg-gradient-to-br from-indigo-500 to-fuchsia-500 shadow-glow flex items-center justify-center">
        <div id="logoShine" class="absolute inset-0 bg-white/30 skew-x-[-30deg] animate-shine z-10 pointer-events-none"></div>
        <img id="logoImg" src="https://bookmintor.shop/images/loffgo.png" alt="Logo" class="object-cover w-full h-full opacity-0 transition-opacity duration-500" style="padding: 2px; border-radius: 12px;">
      </div>
      <span class="text-lg font-bold"><span class="bg-gradient-to-r from-indigo-300 to-fuchsia-300 bg-clip-text text-transparent">Book</span>Mintor</span>
    </a>
    <a href="./spirituality.html" class="text-sm text-zinc-300 hover:text-white">Back to Library</a>
  </header>

  <section class="max-w-5xl mx-auto px-6 py-12 space-y-8">
      <div class="flex flex-col md:flex-row items-center gap-8">
      <div class="book-wrap relative" data-aos="fade-right">
        <div id="previewIndicator" class="absolute z-10 sm:block md:translate-x-0 md:-left-4 md:top-20 md:translate-y-0" style="width: 150px; display: none;">
            <div class="flex items-center gap-1 text-xs font-semibold text-white/90 bg-fuchsia-600/60 backdrop-blur-sm px-2 py-1 rounded-lg border border-fuchsia-400/50 shadow-lg animate-popFloat">
                <i data-lucide="info" class="h-4 w-4 text-fuchsia-200"></i>
                <span>Tap here to see preview</span>
                <i data-lucide="arrow-right" class="h-4 w-4 text-fuchsia-200 animate-pulseArrow"></i>
            </div>
        </div>

        <div class="book-3d" id="book3d">
          <div class="cover" id="coverFace" aria-busy="true">
            <div class="cover-loading-spin" id="loadingSpin" aria-hidden="true"><div class="loading-half-wheel animate-glowspin"></div></div>
            <div class="cover-shine animate-coverFast" id="coverShine" aria-hidden="true"></div>
            <img id="coverImg" alt="ebook cover" src="" loading="eager" />
            <div id="previewOverlay" aria-hidden="true">
                <div class="cover-shine" id="previewShine" style="display: none; z-index: 20; opacity: 1;"></div>
                <img id="previewScreenshot" src="" alt="Preview" class="absolute inset-0 w-full h-full object-contain" />
                <button onclick="exitPreview(event)" id="exitPreviewBtn" class="absolute top-2 right-2 p-1 bg-black/30 text-white rounded-full hover:bg-black/50 transition z-10"><i data-lucide="x" class="h-4 w-4"></i></button>
                <p id="imageCounter" class="absolute bottom-2 left-1/2 -translate-x-1/2 text-xs font-medium px-2 py-0.5 bg-black/50 rounded-full text-white/80 z-10"></p>
            </div>
          </div>
          <div class="spine" aria-hidden="true"></div><div class="pages" aria-hidden="true"></div><div class="top-edge" aria-hidden="true"></div><div class="bottom-edge" aria-hidden="true"></div><div class="book-ghost" aria-hidden="true"></div>
        </div>
      </div>

      <div class="flex-1 space-y-4" data-aos="fade-left">
        <div id="custom-tag-container"></div>
        <h1 class="text-3xl font-bold">PremAnand Ji‚Äôs Zero-Disturbance Mindset code</h1>
        <p class="text-zinc-300">A powerful guide inspired by PremAnand Ji to help you master calmness and inner stability.</p>

        <div class="stats-section" id="stats-section">
          <div class="stat-item"><div class="stat-value"><i data-lucide="download-cloud" class="h-5 w-5"></i><span data-target="12500" id="downloads-value">0</span><span class="text-lg">+</span></div><div class="stat-label">Downloads</div></div>
          <div class="stat-item"><div class="stat-value"><i data-lucide="star" class="h-5 w-5"></i><span data-target="4.9" id="rating-value">0.0</span></div><div class="stat-label">Rating</div></div>
          <div class="stat-item"><div class="stat-value"><i data-lucide="message-square" class="h-5 w-5"></i><span data-target="1200" id="reviews-value">0</span><span class="text-lg">+</span></div><div class="stat-label">Success Graduates</div></div>
        </div>

        <div id="pricingContainer" class="flex flex-col gap-2 mt-4">
            <div class="flex items-center gap-3">
                <span id="displayPrice" class="text-4xl font-bold text-brandGreen" style="text-shadow: 0 0 10px rgba(34, 197, 94, 0.3);">‚Çπ799</span>
                <span id="originalPrice" class="text-lg text-zinc-500 line-through decoration-zinc-500/50">‚Çπ1699</span>
                <span class="px-2 py-1 bg-[#064e3b] text-brandGreen rounded-md text-xs font-bold border border-brandGreen/20 shadow-saleGlow">LIMITED OFFER</span>
            </div>
            
            <div class="coupon-wrapper" id="couponSection">
                <i data-lucide="tag" class="h-4 w-4 text-fuchsia-400"></i>
                <input type="text" id="couponInput" class="coupon-input" placeholder="Coupon Code">
                <button onclick="handleCoupon()" id="applyCouponBtn" class="coupon-btn">Apply</button>
            </div>
        </div>

        <div class="flex items-center flex-wrap gap-4 mt-2">
            <a id="buyBtn" href="#buy" class="cta-btn inline-flex items-center gap-2 rounded-xl bg-gradient-to-br from-indigo-500 to-fuchsia-500 px-4 py-2 text-sm font-semibold shadow-ctaglow transition hover:scale-105 active:scale-95">
              <span>Buy Now</span>
              <i data-lucide="shopping-cart" class="h-4 w-4"></i>
              <span class="cta-shine animate-btnshine"></span>
              <span class="corner-bling"></span>
            </a>

            <div id="unlockContainer" class="snake-container" style="display: none;">
                <div class="snake-border"></div>
                <div class="snake-glow"></div>
                <div class="snake-mask"></div>
                <button id="unlockBtn" class="unlock-btn" data-unlocked="false" onclick="handleUnlockClick()">
                    <i data-lucide="lock-open" class="h-4 w-4"></i> 
                    <span>Access Content</span>
                </button>
            </div>
        </div>

      </div>
    </div>

    <div data-aos="fade-up" class="mb-2"> <h2 class="text-2xl font-bold mb-2">About this Ebook</h2>
      <p class="text-zinc-300 leading-relaxed">A powerful guide inspired by PremAnand Ji to help you master calmness and inner stability. The concepts are simplified with practical steps you can use in everyday situations. Whether it‚Äôs emotional noise, stress, or expectations, each chapter shows a calm way through. This premium pack also includes HD video, podcast audio, and a mind map to make learning easier in both Hindi and English.</p>
    </div>

    <div data-aos="fade-up" class="py-4"> <h2 class="text-2xl font-bold mb-4">Q&A</h2>
      <div class="divide-y divide-white/10 rounded-xl border border-white/10 bg-white/5">
        <details class="p-4"><summary class="cursor-pointer font-semibold flex justify-between items-center">What is the main purpose of the Zero-Disturbance mindset?<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary><div class="details-content"><p class="mt-2 text-sm text-zinc-300 py-2">Its purpose is to help you maintain inner stability even during external chaos.</p></div></details>
        <details class="p-4"><summary class="cursor-pointer font-semibold flex justify-between items-center">Is this mindset only for spiritual people?<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary><div class="details-content"><p class="mt-2 text-sm text-zinc-300 py-2">No. It blends spirituality with psychology, making it suitable for everyone.</p></div></details>
        <details class="p-4"><summary class="cursor-pointer font-semibold flex justify-between items-center">How long does it take to see results?<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 transition-transform duration-300" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" /></svg></summary><div class="details-content"><p class="mt-2 text-sm text-zinc-300 py-2">With daily practice, noticeable calmness appears within 7 to 30 days.</p></div></details>
      </div>
    </div>


    <div data-aos="fade-up" class="py-2 premium-list-container">
        <div class="premium-list-item"><span class="simple-tick">‚úì</span><span class="feature-text"><strong>PREMIUM E-BOOK</strong></span></div>
        <div class="premium-list-item"><span class="simple-tick">‚úì</span><span class="feature-text"><strong>HIGH-QUALITY PODCAST AUDIO</strong></span></div>
        <div class="premium-list-item"><span class="simple-tick">‚úì</span><span class="feature-text"><strong>HD EXPLAINER VIDEO</strong></span></div>
        <div class="premium-list-item"><span class="simple-tick">‚úì</span><span class="feature-text"><strong>MIND MAP</strong></span></div>
        <div class="premium-list-item"><span class="simple-tick">‚úì</span><span class="feature-text"><strong>HINDI AND ENGLISH BOTH LANGUAGE</strong></span></div>
    </div>

    <div id="feedbacks" data-aos="fade-up" class="py-8"> <h2 class="text-2xl font-bold mb-1">What our readers say</h2>
      <p class="mb-4 text-sm text-zinc-400">These are the most repeated points readers mentioned.</p>
      <div class="space-y-3" id="feedback-list">
        <div class="feedback-item animate-slideUp"><div class="user-avatar" style="background: linear-gradient(135deg, #f59e0b, #f97316);">R</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Rishabh Mehta</div><div class="user-location">India</div></div></div><div class="feedback-date">Aug 2025</div></div><div class="feedback-text">This book made the ideas surprisingly easy to apply the calmness shows in daily life now</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star-half" class="h-4 w-4 half"></i></div></div></div></div>
        <div class="feedback-item animate-slideUp"><div class="user-avatar" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">T</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Tanvi Sharma</div><div class="user-location">India</div></div></div><div class="feedback-date">Sep 2025</div></div><div class="feedback-text">I didn‚Äôt expect such clear explanations... The video and mind map made everything click instantly‚ù§Ô∏è</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 empty"></i></div></div></div></div>
        <div class="feedback-item animate-slideUp"><div class="user-avatar" style="background: linear-gradient(135deg, #ef4444, #dc2626);">A</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Aditya Rao Verma</div><div class="user-location">India</div></div></div><div class="feedback-date">Aug 2025</div></div><div class="feedback-text">The way expectations are explained here changed how I respond to people. Feels refreshing</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i></div></div></div></div>
        <div class="feedback-item animate-slideUp"><div class="user-avatar" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">J</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Jatin Kumar Singh</div><div class="user-location">India</div></div></div><div class="feedback-date">Oct 2025</div></div><div class="feedback-text">Honestly .. 5 minute Shanti Sutra ne mera reaction control karne me real help ki Simple aur kaam ka</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star-half" class="h-4 w-4 half"></i></div></div></div></div>
        <div class="feedback-item animate-slideUp"><div class="user-avatar" style="background: linear-gradient(135deg, #10b981, #059669);">N</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Naina Arora</div><div class="user-location">India</div></div></div><div class="feedback-date">Oct 2025</div></div><div class="feedback-text">Forgiveness ritual felt small but powerful, Amazed how quickly it lifted emotional heaviness‚ù§Ô∏è‚ù§Ô∏è</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i></div></div></div></div>

        <div class="feedback-item extra-feedback"><div class="user-avatar" style="background: linear-gradient(135deg, #f97316, #ea580c);">S</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Saurabh Tanwar</div><div class="user-location">India</div></div></div><div class="feedback-date">Sep 2025</div></div><div class="feedback-text">Maun Protocol try kiya aur mind ka noise half ho gaya Didn‚Äôt expect it to work this well</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star-half" class="h-4 w-4 half"></i></div></div></div></div>
        <div class="feedback-item extra-feedback"><div class="user-avatar" style="background: linear-gradient(135deg, #6366f1, #4f46e5);">P</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Payal jha</div><div class="user-location">India</div></div></div><div class="feedback-date">Jun 2025</div></div><div class="feedback-text">The structure is clean and modern. Great blend of psychology, reflection, and simple actions...</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 empty"></i></div></div></div></div>
        <div class="feedback-item extra-feedback"><div class="user-avatar" style="background: linear-gradient(135deg, #ec4899, #db2777);">A</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Aanya sexsena</div><div class="user-location">India</div></div></div><div class="feedback-date">Nov 2025</div></div><div class="feedback-text">Forgiveness ritual improved my sleep. Emotional burden feels much lighter now</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star-half" class="h-4 w-4 half"></i></div></div></div></div>
        <div class="feedback-item extra-feedback"><div class="user-avatar" style="background: linear-gradient(135deg, #14b8a6, #0d9488);">D</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">Danish yadav</div><div class="user-location">India</div></div></div><div class="feedback-date">Sep 2025</div></div><div class="feedback-text">Short chapters, strong impact. This feels like a guide I‚Äôll come back to again and again</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 empty"></i></div></div></div></div>
        <div class="feedback-item extra-feedback"><div class="user-avatar" style="background: linear-gradient(135deg, #f59e0b, #d97706);">O</div><div class="feedback-content"><div class="feedback-header"><div class="user-info"><div class="user-details"><div class="user-name">omkar pandey</div><div class="user-location">India</div></div></div><div class="feedback-date">Oct 2025</div></div><div class="feedback-text">Yeh price me itna premium content mil raha hai honestly shock ho gaya Worth every rupee‚ù§Ô∏èüòç.</div><div class="feedback-rating"><div class="star-glow flex items-center gap-1"><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star" class="h-4 w-4 filled"></i><i data-lucide="star-half" class="h-4 w-4 half"></i></div></div></div></div>
      </div>
      <button id="showMore" class="mt-4 inline-block rounded-xl border border-white/10 bg-white/10 px-4 py-2 text-sm text-white hover:bg-white/20 transition" onclick="toggleFeedbacks()">Show More</button>
    </div>
  </section>

  <div id="downloadModal" class="modal">
    <div id="languageSelectionModal" class="modal-content" style="max-width: 450px; display: none; background-color: #1e293b; color: white;">
      <h2 class="text-2xl font-bold mb-6 text-indigo-400 text-center">Select Content Language</h2>
      <p class="text-sm text-zinc-300 text-center mb-6">You have unlocked both language bundles. Which version would you like to view?</p>
      
      <button onclick="closeDownloadModal()" class="language-modal-close"><i data-lucide="x" class="h-6 w-6"></i></button>

      <div id="languageSelectionContainer" class="space-y-4 transition-opacity duration-300">
          <button onclick="saveAndOpenDashboard('HINDI')" class="payment-lang-btn text-sm py-3 px-4" style="background-image: linear-gradient(135deg, #dc2626, #ef4444); box-shadow: 0 4px 15px rgba(239, 68, 68, 0.4);">
              <i data-lucide="book" class="h-4 w-4"></i> HINDI Edition
          </button>
          <button onclick="saveAndOpenDashboard('ENGLISH')" class="payment-lang-btn text-sm py-3 px-4" style="background-image: linear-gradient(135deg, #3b82f6, #60a5fa); box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);">
              <i data-lucide="globe" class="h-4 w-4"></i> ENGLISH Edition
          </button>
      </div>
    </div>
  </div>

  <div id="zipConfirmationModal" class="modal" style="display: none;">
      <div id="zipConfirmationContent" class="modal-content animate-modalFadeIn" style="max-width: 320px; background-color: #0f172a; color: #e2e8f0; padding: 25px; border: 1px solid rgba(255, 255, 255, 0.15); box-shadow: 0 0 40px rgba(168,85,247,0.3); opacity: 1; transform: none;">
          <h3 class="text-xl font-bold mb-4 text-indigo-300 text-center flex items-center justify-center gap-2"><i data-lucide="shield-check" class="h-6 w-6 text-emerald-400"></i> ZIP Compatibility Check</h3>
          <p class="text-base font-semibold text-zinc-300 text-center mb-5">Can your device open <span class="text-yellow-400">.ZIP files</span>?</p>
          <div class="space-y-3 p-4 bg-zinc-800/50 rounded-lg mb-6 border border-zinc-700">
              <p class="text-xs font-medium text-zinc-400 mb-2 uppercase tracking-wider">If No, follow these 3 steps:</p>
              <div class="flex items-start text-sm text-zinc-300 gap-2"><i data-lucide="check-circle" class="h-4 w-4 text-emerald-400 mt-0.5 flex-shrink-0"></i><span>Open your <strong class="text-white">Play Store / App Store</strong>.</span></div>
              <div class="flex items-start text-sm text-zinc-300 gap-2"><i data-lucide="check-circle" class="h-4 w-4 text-emerald-400 mt-0.5 flex-shrink-0"></i><span>Search and install ZArchiver or <strong class="text-white">Files by Google</strong>.</span></div>
              <div class="flex items-start text-sm text-zinc-300 gap-2"><i data-lucide="check-circle" class="h-4 w-4 text-emerald-400 mt-0.5 flex-shrink-0"></i><span>Return here and click the button below.</span></div>
      </div>
          <button id="understandZipBtn" onclick="handleZipConfirmation()" class="no-shine-button w-full text-sm py-3 px-4" style="background-image: linear-gradient(135deg, #10b981, #059669); box-shadow: 0 4px 15px rgba(16,185,129,0.4); margin: 0;">I Understand</button>
      </div>
  </div>


  <div id="feedbackModal" class="modal">
    <div class="modal-content" id="feedbackModalContent" style="max-width: 400px; padding: 30px; background-color: #1e293b; color: #e2e8f0; border: 1px solid rgba(255, 255, 255, 0.1);">
        <h2 class="text-xl font-bold mb-2 text-indigo-400 text-center">Tell us what you think!</h2>
        <p class="text-sm text-zinc-400 text-center mb-6">Your honest feedback helps us improve.</p>
        <div id="feedbackForm">
            <textarea id="feedbackTextarea" rows="4" placeholder="Type your honest feedback here (Required)..." class="feedback-textarea w-full p-3 border border-white/20 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 text-sm text-white bg-transparent transition duration-300"></textarea>
            <div class="flex flex-col gap-3 mt-4">
                <button id="submitFeedbackBtn" class="no-shine-button w-full" style="background-image: linear-gradient(135deg, #6366f1, #a855f7); margin-top: 0px;" onclick="submitFeedback()"><i data-lucide="send" class="h-5 w-5"></i><span id="submitFeedbackText">Submit Feedback</span></button>
                <button id="noThanksBtn" class="w-full text-sm font-semibold text-zinc-400 hover:text-white transition" onclick="closeFeedbackModal(true)">No Thanks, take me back</button>
            </div>
        </div>
        <div id="feedbackSuccess" class="text-center py-8 hidden">
            <i data-lucide="check-circle" class="h-10 w-10 text-emerald-400 mx-auto mb-4 text-emerald-500 filter drop-shadow-md"></i><h3 class="text-xl font-bold text-emerald-400">Thanks for your feedback!</h3><p class="text-sm text-zinc-300 mt-2">Redirecting you to the library...</p>
        </div>
    </div>
  </div>

  <div id="paymentModal" class="modal">
    <div class="modal-content" id="paymentModalContent" style="max-width: 500px; padding: 0; background-color: #111817;">
        <button id="paymentModalCloseButton" onclick="openConfirmationModal()" style="position: absolute; top: 12px; right: 12px; z-index: 2020;"><i data-lucide="x" class="h-6 w-6 text-zinc-400 hover:text-white"></i></button>
        <div id="paymentContainer" style="width: 100%; height: 550px; position: relative;">
            <div id="topShield" class="invisible-shield" style="top: 0;"></div>
            <div id="bottomShield" class="invisible-shield" style="bottom: 0;"></div>
            <div id="paymentLoader" style="position: absolute; inset: 0; background-color: #111817; display: none; align-items: center; justify-content: center; flex-direction: column; z-index: 20;">
                <div class="jumping-loader"><div class="ball"></div><div class="ball"></div><div class="ball"></div></div>
                <p class="mt-8 text-lg font-semibold text-indigo-400">Processing...</p>
            </div>
            <div id="paymentLangSelection" style="display: none; position: absolute; inset: 0; background-color: #111817; z-index: 15; flex-direction: column; align-items: center; justify-content: center; padding: 30px;">
                <h3 class="text-xl font-bold text-white mb-6 text-center">Choose your language</h3>
                <button onclick="handlePaymentLanguageSelection('HINDI')" class="payment-lang-btn"><span class="btn-shine"></span><i data-lucide="book" class="h-5 w-5 text-fuchsia-400"></i>Hindi<i data-lucide="arrow-right" class="h-4 w-4 ml-auto text-zinc-400"></i></button>
                <button onclick="handlePaymentLanguageSelection('ENGLISH')" class="payment-lang-btn"><span class="btn-shine"></span><i data-lucide="globe" class="h-5 w-5 text-indigo-400"></i>English<i data-lucide="arrow-right" class="h-4 w-4 ml-auto text-zinc-400"></i></button>
            </div>
            <iframe id="cashfreeIframe" src="" frameborder="0" width="100%" height="100%" style="border-radius: 12px; display: none;" sandbox="allow-forms allow-scripts allow-modals allow-popups allow-same-origin allow-top-navigation"></iframe>
        </div>
        <p class="text-xs text-zinc-500 text-center py-2">Powered by Cashfree Payments</p>
    </div>
  </div>

  <div id="confirmationModal">
    <div id="confirmationContent">
        <div class="mb-4"><i data-lucide="alert-triangle" class="h-8 w-8 text-red-400 mx-auto mb-2"></i><p class="conf-text-glow text-lg">Are you sure to exit payment?</p></div>
        <p class="text-sm text-zinc-300 mb-6">Exiting now may cancel your transaction. Your payment information is secure.</p>
        <div class="flex flex-col gap-3">
            <button id="cancelExitBtn" class="download-button w-full" style="background-image: linear-gradient(135deg, #ef4444, #dc2626); margin-top: 0px;" onclick="confirmExitPayment(false)"><i data-lucide="check" class="h-5 w-5"></i>No, Continue Payment</button>
            <button id="confirmExitBtn" class="w-full text-sm font-semibold text-zinc-400 hover:text-white transition" onclick="confirmExitPayment(true)">Yes, Exit Payment</button>
        </div>
    </div>
  </div>

  <div id="productViewerModal" class="modal">
      <div id="productViewerContent" class="modal-content animate-modalFadeIn">
          <div class="viewer-header">
              <h3 class="text-lg font-bold text-white flex items-center gap-2"><i data-lucide="package-open" class="h-5 w-5 text-emerald-400"></i> <span id="dashboardTitle">Premium Content</span></h3>
              <div class="flex items-center gap-2">
                  <button onclick="handleDownloadBundleClick()" class="flex items-center gap-2 text-zinc-400 hover:text-white transition p-2 rounded-lg border border-white/10 hover:border-white/30 bg-white/5">
                      <i data-lucide="download" class="h-4 w-4"></i>
                      <span class="text-xs font-medium uppercase tracking-wider hidden sm:inline">Download ZIP</span>
                  </button>
                  <button onclick="closeViewerModal()" class="text-zinc-400 hover:text-white hover:bg-white/10 p-2 rounded-full transition">
                      <i data-lucide="x" class="h-5 w-5"></i>
                  </button>
              </div>
          </div>

          <div id="dashboardLangSwitcher" class="bg-gray-800/50 p-2 border-b border-white/10 flex justify-center gap-4 text-sm font-medium hidden">
               <span class="text-zinc-400">Viewing:</span>
               <button onclick="saveAndOpenDashboard('HINDI')" class="text-red-400 hover:text-red-300 transition underline">HINDI</button>
               <span class="text-zinc-600">|</span>
               <button onclick="saveAndOpenDashboard('ENGLISH')" class="text-blue-400 hover:text-blue-300 transition underline">ENGLISH</button>
          </div>

          <div class="viewer-body">
              <div class="viewer-sidebar">
                  <div id="tab-video" class="viewer-tab active" onclick="switchViewerTab('video')"><i data-lucide="play-circle" class="h-4 w-4"></i> Video Class</div>
                  <div id="tab-audio" class="viewer-tab" onclick="switchViewerTab('audio')"><i data-lucide="headphones" class="h-4 w-4"></i> Audio Podcast</div>
                  <div id="tab-pdf" class="viewer-tab" onclick="switchViewerTab('pdf')"><i data-lucide="file-text" class="h-4 w-4"></i> eBook PDF</div>
                  <div id="tab-image" class="viewer-tab" onclick="switchViewerTab('image')"><i data-lucide="image" class="h-4 w-4"></i> Mind Map</div>
                  <div id="tab-ppt" class="viewer-tab" onclick="switchViewerTab('ppt')"><i data-lucide="presentation" class="h-4 w-4"></i> Presentation</div>
                  <div id="tab-extra" class="viewer-tab" onclick="switchViewerTab('extra')"><i data-lucide="folder-plus" class="h-4 w-4"></i> Extra Resource</div>
              </div>
              <div class="viewer-main">

                  <div id="view-video" class="viewer-section active">
                      <div class="w-full max-w-2xl bg-black rounded-lg overflow-hidden border border-zinc-700 shadow-2xl mb-4">
                          <video id="videoSource" controls class="w-full h-auto" poster="https://bookmintor.shop/images/Full%20Package%20Ebook,%20Audio,%20Video%20&%20Mind%20Map%20(5).png">
                              <source src="" type="video/mp4">
                              Your browser does support the video tag.
                          </video>
                      </div>
                      <button onclick="handleSingleDownload('video')" class="text-zinc-400 hover:text-white flex items-center gap-2 text-sm transition-colors duration-200">
                          <i data-lucide="download" class="h-4 w-4"></i> Download Video File
                      </button>
                  </div>

                  <div id="view-audio" class="viewer-section">
                      <div class="flex flex-col items-center justify-center text-center p-8 bg-[#1e293b]/80 backdrop-blur-md rounded-xl border border-zinc-700 w-full max-w-md shadow-2xl">
                          <div class="w-24 h-24 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center mb-6 shadow-glow"><i data-lucide="mic" class="h-10 w-10 text-white"></i></div>
                          <h4 class="text-xl font-bold mb-2">Zero-Disturbance Audio Guide</h4>
                          <audio id="audioSource" controls class="w-full min-w-[300px] mb-4">
                              <source src="" type="audio/mpeg">
                          </audio>
                          <button onclick="handleSingleDownload('audio')" class="text-zinc-400 hover:text-white flex items-center gap-2 text-sm transition-colors duration-200">
                              <i data-lucide="download" class="h-4 w-4"></i> Download Audio File
                          </button>
                      </div>
                  </div>

                  <div id="view-pdf" class="viewer-section"><div class="text-center">
                    <div class="w-24 h-24 bg-zinc-800 rounded-full flex items-center justify-center mx-auto mb-6 border border-zinc-700 shadow-lg">
                        <i data-lucide="file-text" class="h-10 w-10 text-zinc-400"></i>
                    </div>
                    <h4 class="text-xl font-bold mb-2">Premium eBook</h4>
                    <p class="text-zinc-400 mb-6 max-w-xs mx-auto">Read the comprehensive guide to mastering inner stability.</p>
                    <button id="pdfSourceBtn" onclick="handleSingleDownload('pdf')" class="px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 rounded-lg text-white font-bold hover:shadow-lg hover:scale-105 transition-all duration-300 flex items-center gap-2 mx-auto">
                        <i data-lucide="book-open" class="h-5 w-5"></i> Read / Download PDF
                    </button>
                  </div></div>

                  <div id="view-image" class="viewer-section flex-col">
                      <div class="flex justify-between w-full max-w-2xl mb-2 items-center px-2">
                          <p class="text-zinc-400 text-xs uppercase tracking-wide font-semibold"><i data-lucide="zoom-in" class="inline h-3 w-3 mr-1"></i>Click to Zoom</p>
                          <button onclick="handleSingleDownload('image')" class="text-zinc-400 hover:text-white flex items-center gap-2 text-sm transition-colors duration-200">
                              <i data-lucide="download" class="h-4 w-4"></i> Save Image
                          </button>
                      </div>
                      <div class="relative group rounded-lg overflow-hidden border border-zinc-700/50 shadow-2xl">
                          <img id="imageSource" onclick="this.classList.toggle('zoomed')" src="" class="viewer-zoom-img" alt="Mind Map">
                      </div>
                  </div>

                  <div id="view-ppt" class="viewer-section">
                      <div class="premium-lock-card">
                          <div class="premium-lock-icon bg-indigo-500/20"><i data-lucide="presentation" class="h-10 w-10 text-indigo-400"></i></div>
                          <h3 class="text-xl font-bold text-white mb-2">Presentation Slides</h3>
                          <p class="text-zinc-400 mb-6">Access the core concepts in a slide format for quick review.</p>
                          <button class="px-6 py-2 border border-indigo-500/50 text-indigo-300 rounded-lg hover:bg-indigo-500/10 transition">Coming Soon</button>
                      </div>
                  </div>

                  <div id="view-extra" class="viewer-section">
                      <div class="premium-lock-card">
                          <div class="premium-lock-icon bg-emerald-500/20"><i data-lucide="folder-plus" class="h-10 w-10 text-emerald-400"></i></div>
                          <h3 class="text-xl font-bold text-white mb-2">Bonus Resources</h3>
                          <p class="text-zinc-400 mb-6">Additional worksheets and checklists to track your progress.</p>
                          <button class="px-6 py-2 border border-emerald-500/50 text-emerald-300 rounded-lg hover:bg-emerald-500/10 transition">Download Extras</button>
                      </div>
                  </div>

              </div>
          </div>
      </div>
  </div>

  <footer class="mt-12 border-t border-white/10 py-8 text-center text-sm text-zinc-400">¬© <span id="year"></span> BookMintor. All rights reserved.</footer>

  <script>
    // =========================================
    // 1. PRODUCT CONFIGURATION
    // =========================================
    const productConfig = {
        showVideo: true, showAudio: true, showPdf: true, showMindmap: true, showPpt: true, showExtra: true
    };

    // --- CONFIGURATION ---
    const IS_SALE_ACTIVE = true;
    const ENABLE_COUPON_SECTION = true; // CHANGE THIS TO false TO HIDE COUPON
    
    const SOURCE_IMAGE = 'https://bookmintor.shop/images/Full%20Package%20Ebook,%20Audio,%20Video%20&%20Mind%20Map%20(5).png';
    const PRODUCT_UNIQUE_ID = 'premanand_mindset_code_002';
    
    // Payment Links (Original & Discounted)
    const PAYMENT_LINKS = {
        default: "https://payments.cashfree.com/forms/dsdfg2",  // Normal Price Link
        discounted: "https://payments.cashfree.com/forms/discounted_link_299" // 299 Price Link (Replace this with real link)
    };
    
    let currentPaymentUrl = PAYMENT_LINKS.default; // Default to normal price
    const SECRET_KEY = 'EBOOK_SECRET_K3Y_V2P8Q6R4S7T9W1X5Z0';
    const REDIRECT_URL = 'https://bookmintor.shop/spirituality';
    const VALID_COUPON = "MINTOR299"; // Change this code as needed

    // FIX: Combined all ZIP URLs into one object for direct access
    const ZIP_URLS = {
        HINDI: "https://bookmintor-cpu45432f34fwefwfds46fqwfq.github.io/resource-library/spiritual/%20%20%20ebook1/extras/PremAnand%20Ji%E2%80%99s%20Zero-Disturbance%20Mindset%20Code%20(HINDI%20EDITION).zip",
        ENGLISH: "https://drive.google.com/drive/folders/1ye9NW-i4B-I_dmAMfDhLYXq072eqBPek?usp=drive_link"
    };

    const CONTENT_URLS = {
        HINDI: {
            VIDEO: "https://bookmintor-cpu45432f34fwefwfds46fqwfq.github.io/resource-library/spiritual/%20%20%20ebook1/mockups/%E0%A4%AA%E0%A5%8D%E0%A4%B0%E0%A5%87%E0%A4%AE%E0%A4%BE%E0%A4%A8%E0%A4%82%E0%A4%A1_%E0%A4%9C%E0%A5%80__%E0%A4%9C%E0%A4%BC%E0%A5%80%E0%A4%B0%E0%A5%8B-%E0%A4%A1%E0%A4%BF%E0%A4%B8%E0%A5%8D%E0%A4%9F%E0%A4%B0%E0%A5%8D%E0%A4%AC%E0%A5%87%E0%A4%82%E0%A4%B8_%E0%A4%95%E0%A5%8B%E0%A4%A1%20(EXPLAINER%20VIDEO).mp4",
            AUDIO: "https://placehold.co/600x400/0f172a/94a3b8?text=Hindi%20Audio%20Link.mp3",
            PDF: "https://placehold.co/600x400/0f172a/94a3b8?text=Hindi%20PDF%20Link.pdf",
            MINDMAP: "https://placehold.co/600x400/0f172a/94a3b8?text=Hindi%20Mindmap%20Image.png",
            ZIP: ZIP_URLS.HINDI 
        },
        ENGLISH: {
            VIDEO: "https://placehold.co/600x400/0f172a/94a3b8?text=English%20Video%20Link.mp4",
            AUDIO: "https://placehold.co/600x400/0f172a/94a3b8?text=English%20Audio%20Link.mp3",
            PDF: "https://placehold.co/600x400/0f172a/94a3b8?text=English%20PDF%20Link.pdf",
            MINDMAP: "https://placehold.co/600x400/0f172a/94a3b8?text=English%20Mindmap%20Image.png",
            ZIP: ZIP_URLS.ENGLISH
        }
    };
    const SCREENSHOT_URLS = [
        'https://bookmintor.shop/bundels/ChatGPT%20Image%20Nov%2011,%202025,%2009_54_38%20AM.png',
        'https://bookmintor.shop/bundels/screnshorts/ChatGPT%20Image%20Nov%2011,%202025,%2008_44_01%20AM.png',
        'https://bookmintor.shop/bundels/screnshorts/ChatGPT%20Image%20Nov%2011,%202025,%2008_44_35%20AM.png',
        'https://bookmintor.shop/bundels/screnshorts/Untitled%20design.png',
    ];

    // --- DOM ELEMENTS ---
    const dom = {
        cover: document.getElementById('coverFace'),
        coverImg: document.getElementById('coverImg'),
        coverShine: document.getElementById('coverShine'),
        loadingSpin: document.getElementById('loadingSpin'),
        downloadModal: document.getElementById('downloadModal'),
        languageSelectionModal: document.getElementById('languageSelectionModal'),
        zipConfirmationModal: document.getElementById('zipConfirmationModal'),
        zipConfirmationContent: document.getElementById('zipConfirmationContent'),
        toastNotification: document.getElementById('toastNotification'),
        toastMessage: document.getElementById('toastMessage'),
        buyBtn: document.getElementById('buyBtn'),
        unlockBtn: document.getElementById('unlockBtn'),
        unlockContainer: document.getElementById('unlockContainer'),
        productViewerModal: document.getElementById('productViewerModal'),
        productViewerContent: document.getElementById('productViewerContent'),
        dashboardTitle: document.getElementById('dashboardTitle'),
        videoSource: document.getElementById('videoSource'),
        audioSource: document.getElementById('audioSource'),
        imageSource: document.getElementById('imageSource'),
        previewOverlay: document.getElementById('previewOverlay'),
        previewScreenshot: document.getElementById('previewScreenshot'),
        imageCounter: document.getElementById('imageCounter'),
        previewIndicator: document.getElementById('previewIndicator'),
        previewShine: document.getElementById('previewShine'),
        
        // Pricing DOMs
        displayPrice: document.getElementById('displayPrice'),
        originalPrice: document.getElementById('originalPrice'),
        couponInput: document.getElementById('couponInput'),
        applyCouponBtn: document.getElementById('applyCouponBtn')
    };

    let currentContentLanguage = 'HINDI';

    // =========================================
    // TOGGLE FEEDBACKS (FIXED - ADDED FUNCTION)
    // =========================================
    function toggleFeedbacks() {
        const hiddenItems = document.querySelectorAll('.extra-feedback');
        const btn = document.getElementById('showMore');
        if(!hiddenItems.length || !btn) return;

        // Check if currently hidden (style might be null or none)
        const isHidden = window.getComputedStyle(hiddenItems[0]).display === 'none';

        if (isHidden) {
            // Show items
            hiddenItems.forEach(item => {
                item.style.display = 'flex'; // Use flex because class uses flex
                item.classList.add('animate-slideUp');
            });
            btn.textContent = 'Show Less';
        } else {
            // Hide items
            hiddenItems.forEach(item => {
                item.style.display = 'none';
                item.classList.remove('animate-slideUp');
            });
            btn.textContent = 'Show More';
            // Optional: smooth scroll back to feedback section to avoid disorientation
            document.getElementById('feedbacks').scrollIntoView({behavior: 'smooth', block: 'start'});
        }
    }

    // =========================================
    // COUPON LOGIC
    // =========================================
    function handleCoupon() {
        if (!ENABLE_COUPON_SECTION) return; // Guard clause if disabled

        const input = dom.couponInput;
        const btn = dom.applyCouponBtn;
        const code = input.value.trim().toUpperCase();

        if(code === VALID_COUPON) {
            confetti({ particleCount: 60, spread: 50, origin: { y: 0.5, x: 0.5 }, colors: ['#22c55e', '#ffffff'], zIndex: 10 });
            
            input.disabled = true;
            btn.disabled = true;
            input.classList.add('coupon-applied');
            btn.innerHTML = '<i data-lucide="check" class="h-4 w-4"></i>';
            lucide.createIcons();

            dom.originalPrice.classList.add('animate-priceSlash'); 
            dom.displayPrice.classList.add('animate-popFloat'); 
            
            setTimeout(() => {
                dom.originalPrice.innerHTML = '‚Çπ899'; 
                dom.displayPrice.innerHTML = '‚Çπ299'; 
                dom.originalPrice.classList.remove('animate-priceSlash');
            }, 600);

            currentPaymentUrl = PAYMENT_LINKS.discounted;
            showToast("Coupon Applied! ‚Çπ500 Saved üéâ", true);

        } else {
            input.classList.add('animate-shakeInput', 'border-red-500');
            setTimeout(() => input.classList.remove('animate-shakeInput', 'border-red-500'), 500);
            showToast("Invalid code. Please check and try again.", false);
        }
    }

    function showToast(msg, isSuccess = true) {
        dom.toastMessage.textContent = msg;
        dom.toastNotification.style.background = isSuccess ? 'rgba(16, 185, 129, 0.95)' : 'rgba(239, 68, 68, 0.95)';
        dom.toastNotification.classList.add('show');
        setTimeout(() => dom.toastNotification.classList.remove('show'), 3000);
    }

    // =========================================
    // 2. DASHBOARD / VIEWER LOGIC
    // =========================================
    function switchViewerTab(tabId) {
        document.querySelectorAll('video, audio').forEach(v => v.pause());
        document.querySelectorAll('.viewer-sidebar .viewer-tab').forEach(t => t.classList.remove('active'));
        document.querySelectorAll('.viewer-main .viewer-section').forEach(s => s.classList.remove('active'));

        const clickedTab = document.getElementById(`tab-${tabId}`);
        if(clickedTab) clickedTab.classList.add('active');

        let targetSectionId = `view-${tabId}`;
        let isAvailable = true;

        if (tabId === 'ppt' && !productConfig.showPpt) isAvailable = false;
        if (tabId === 'extra' && !productConfig.showExtra) isAvailable = false;
        if (tabId === 'video' && !productConfig.showVideo) isAvailable = false;

        if (!isAvailable) targetSectionId = 'view-unavailable';

        const section = document.getElementById(targetSectionId);
        if(section) section.classList.add('active');
    }

    function openViewerModal(lang) {
        if (lang) {
            currentContentLanguage = lang;
            localStorage.setItem('lang_' + PRODUCT_UNIQUE_ID, lang); 
        } else {
             currentContentLanguage = localStorage.getItem('lang_' + PRODUCT_UNIQUE_ID) || 'HINDI';
        }

        try {
            const tabVideo = document.getElementById('tab-video');
            const tabAudio = document.getElementById('tab-audio');
            const tabPdf = document.getElementById('tab-pdf');
            const tabImage = document.getElementById('tab-image');
            const tabPpt = document.getElementById('tab-ppt');
            const tabExtra = document.getElementById('tab-extra');

            if(tabVideo) tabVideo.style.display = productConfig.showVideo ? 'flex' : 'none';
            if(tabAudio) tabAudio.style.display = productConfig.showAudio ? 'flex' : 'none';
            if(tabPdf) tabPdf.style.display = productConfig.showPdf ? 'flex' : 'none';
            if(tabImage) tabImage.style.display = productConfig.showMindmap ? 'flex' : 'none';
            if(tabPpt) tabPpt.style.display = productConfig.showPpt ? 'flex' : 'none';
            if(tabExtra) tabExtra.style.display = productConfig.showExtra ? 'flex' : 'none';

            const content = CONTENT_URLS[currentContentLanguage] || CONTENT_URLS.HINDI; 
            const isDualLang = dom.unlockBtn.getAttribute('data-unlocked') === 'BOTH';

            document.getElementById('dashboardTitle').textContent = `Premium Content (${currentContentLanguage})`;
            document.getElementById('dashboardLangSwitcher').style.display = isDualLang ? 'flex' : 'none';

            const videoEl = document.getElementById('videoSource');
            const audioEl = document.getElementById('audioSource');
            const imgEl = document.getElementById('imageSource');

            if(content.VIDEO && videoEl) {
                const source = videoEl.querySelector('source');
                if(source) { source.src = content.VIDEO; videoEl.load(); }
            }
            if(content.AUDIO && audioEl) {
                const source = audioEl.querySelector('source');
                if(source) { source.src = content.AUDIO; audioEl.load(); }
            }
            if(content.MINDMAP && imgEl) {
                imgEl.src = content.MINDMAP;
            }

            dom.productViewerModal.style.display = 'flex';
            dom.productViewerContent.classList.add('animate-modalFadeIn'); 

            if (productConfig.showVideo) switchViewerTab('video');
            else if (productConfig.showAudio) switchViewerTab('audio');
            else if (productConfig.showPdf) switchViewerTab('pdf');
            else if (productConfig.showMindmap) switchViewerTab('image');

            lucide.createIcons(); 
        } catch(e) {
            console.error("Dashboard Error:", e);
            dom.productViewerModal.style.display = 'flex'; 
        }
    }

    function closeViewerModal() {
        dom.productViewerContent.classList.remove('animate-modalFadeIn');
        dom.productViewerContent.classList.add('animate-modalFadeOut');
        setTimeout(() => {
            dom.productViewerModal.style.display = 'none';
            dom.productViewerContent.classList.remove('animate-modalFadeOut');
            document.querySelectorAll('video, audio').forEach(v => v.pause());
        }, 400); 
    }

    // FIX 2: IMPROVED UNLOCK LOGIC (PERSISTENCE CHECKER)
    function handleUnlockClick() {
        // 1. Get status from attribute
        let status = dom.unlockBtn.getAttribute('data-unlocked');
        
        // 2. SAFETY CHECK: If status is false, check localStorage one more time (Double Check for Refresh)
        if (status === 'false' || !status) {
            const savedData = localStorage.getItem('unlocked_lang_' + PRODUCT_UNIQUE_ID);
            if (savedData && savedData !== 'false') {
                // Determine correct status from localStorage string
                if (savedData.includes('HINDI') && savedData.includes('ENGLISH')) status = 'BOTH';
                else if (savedData.includes('HINDI')) status = 'HINDI';
                else if (savedData.includes('ENGLISH')) status = 'ENGLISH';
                
                // Update DOM immediately to fix state
                dom.unlockBtn.setAttribute('data-unlocked', status);
            }
        }

        // 3. Logic Flow
        if (status === 'BOTH') {
            dom.downloadModal.style.display = 'flex';
            dom.languageSelectionModal.style.display = 'block'; 
            dom.zipConfirmationModal.style.display = 'none'; 
            dom.languageSelectionModal.classList.add('animate-modalFadeIn');
            lucide.createIcons();
        } else if (status === 'HINDI') {
            openViewerModal('HINDI');
        } else if (status === 'ENGLISH') {
            openViewerModal('ENGLISH');
        } else {
             showToast("Please purchase the product first to access content.", false);
        }
    }

    function saveAndOpenDashboard(lang) {
        dom.languageSelectionModal.style.display = 'none';
        dom.downloadModal.style.display = 'none';
        openViewerModal(lang);
    }

    function closeDownloadModal() {
        dom.downloadModal.style.display = 'none';
    }

    function handleDownloadBundleClick() {
        const lang = currentContentLanguage;
        const url = CONTENT_URLS[lang] ? CONTENT_URLS[lang].ZIP : null;

        if(url) {
            window.location.href = url;
        } else {
             showToast(`Download link missing for ${lang} ZIP.`, false);
        }
    }

    function handleSingleDownload(type) {
        const content = CONTENT_URLS[currentContentLanguage];
        let url = '';
        if(type === 'video') url = content.VIDEO;
        if(type === 'audio') url = content.AUDIO;
        if(type === 'pdf') { window.open(content.PDF, '_blank'); return; }
        if(type === 'image') url = content.MINDMAP;
        
        if(url) {
            const a = document.createElement('a');
            a.href = url;
            a.download = ''; 
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        } else {
             showToast(`File URL missing for ${type}.`, false);
        }
    }

    // =========================================
    // 3. POST PAYMENT & ANIMATION
    // =========================================
    let postPaymentLanguage = '';

    function startUnlockProcess(lang) {
        postPaymentLanguage = lang;
        triggerCelebration();
        dom.zipConfirmationModal.style.display = 'flex'; 
        lucide.createIcons();
    }

    function handleZipConfirmation() {
        dom.zipConfirmationModal.style.display = 'none';
        dom.unlockContainer.style.display = 'inline-flex';
        
        const status = getUpdatedUnlockStatus(postPaymentLanguage);
        dom.unlockBtn.setAttribute('data-unlocked', status);
        dom.unlockContainer.classList.add('snake-active'); 

        dom.unlockContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });

        setTimeout(() => {
            showToast("Product Unlocked! Access Granted.", true);
        }, 500);

        setTimeout(() => {
            dom.unlockContainer.classList.remove('snake-active');
        }, 5000);
    }

    function getUpdatedUnlockStatus(newLang) {
        const current = localStorage.getItem('unlocked_lang_' + PRODUCT_UNIQUE_ID) || '';
        let result = newLang;
        // Merge Logic
        if ((current.includes('HINDI') && newLang === 'ENGLISH') || 
            (current.includes('ENGLISH') && newLang === 'HINDI') || 
            current.includes('BOTH')) {
            result = 'BOTH';
        }
        
        localStorage.setItem('unlocked_lang_' + PRODUCT_UNIQUE_ID, result);
        return result; // return simple string logic
    }

    // =========================================
    // 4. UTILITIES & INITIALIZATION
    // =========================================
    document.addEventListener('DOMContentLoaded', function() {
      // 0. COUPON ON/OFF CHECK
      if (!ENABLE_COUPON_SECTION) {
          const couponEl = document.getElementById('couponSection');
          if(couponEl) couponEl.style.display = 'none';
      }

      // 1. Initial State: Hidden by default
      dom.unlockBtn.setAttribute('data-unlocked', 'false');
      dom.unlockContainer.style.display = 'none';

      // 2. CHECK LOCAL STORAGE (Persistence Fix for Refresh)
      const unlockedLangs = localStorage.getItem('unlocked_lang_' + PRODUCT_UNIQUE_ID);
      
      if (unlockedLangs && unlockedLangs !== 'false' && unlockedLangs !== '') {
          // User has purchased before
          dom.unlockContainer.style.display = 'inline-flex';
          
          let status;
          if (unlockedLangs.includes('HINDI') && unlockedLangs.includes('ENGLISH')) {
              status = 'BOTH';
          } else if (unlockedLangs.includes('HINDI')) {
              status = 'HINDI';
          } else if (unlockedLangs.includes('ENGLISH')) {
              status = 'ENGLISH';
          } else {
             // Fallback
             status = unlockedLangs; 
          }
          
          // Set attribute immediately
          dom.unlockBtn.setAttribute('data-unlocked', status);
          dom.unlockContainer.classList.add('snake-active'); // Add glow so they see it
      }

      // 3. Payment Success Handler
      const urlParams = new URLSearchParams(window.location.search);
      const paymentStatus = urlParams.get('payment_status');
      const secretKey = urlParams.get('secret_key');
      const isPaymentInitiated = sessionStorage.getItem('payment_initiated');
      const preSelectedLang = sessionStorage.getItem('selected_language');

      if (paymentStatus === 'success' && secretKey === SECRET_KEY && isPaymentInitiated === 'true') {
        history.replaceState(null, '', window.location.pathname);
        sessionStorage.removeItem('payment_initiated');
        const finalStatus = getUpdatedUnlockStatus(preSelectedLang || 'HINDI');
        dom.unlockBtn.setAttribute('data-unlocked', finalStatus);
        
        // Trigger Flow
        startUnlockProcess(preSelectedLang || 'HINDI');
      }

      // 4. Load Images & Animations
      const logoImg = document.getElementById('logoImg');
      if (logoImg.complete) { document.getElementById('logoShine').style.display='none'; logoImg.classList.remove('opacity-0'); }
      else logoImg.onload = () => { document.getElementById('logoShine').style.display='none'; logoImg.classList.remove('opacity-0'); };
      
      if(IS_SALE_ACTIVE) {
        document.getElementById('saleBanner').style.display = 'block';
      }

      AOS.init({ duration: 800, once: true, offset: 120 });
      lucide.createIcons();
      updateTag();
      preloadAllImages();
    });

    // --- STATS ANIMATION ---
    function animateCount(el, start, end, duration) {
        let startTime = null; let isFloat = end % 1 !== 0;
        function step(timestamp) {
            if (!startTime) startTime = timestamp;
            const progress = timestamp - startTime; const pct = Math.min(progress / duration, 1);
            let val = start + (end - start) * pct;
            el.textContent = isFloat ? val.toFixed(1) : Math.floor(val).toLocaleString('en-IN');
            if (pct < 1) window.requestAnimationFrame(step); else el.textContent = isFloat ? end.toFixed(1) : end.toLocaleString('en-IN');
        } window.requestAnimationFrame(step);
    }
    const observer = new IntersectionObserver((entries) => {
        if (entries[0].isIntersecting) {
            document.querySelectorAll('.stat-value span[data-target]').forEach(span => {
                const target = parseFloat(span.getAttribute('data-target')); 
                span.textContent = "0";
                animateCount(span, target % 1 !== 0 ? 0.0 : 0, target, 2000);
            });
            observer.disconnect();
        }
    }, { threshold: 0.5 }); observer.observe(document.getElementById('stats-section'));

    // --- OTHER HELPERS ---
    function triggerCelebration() { confetti({ particleCount: 180, spread: 100, origin: { y: 0.6 }, colors: ['#6366f1', '#a855f7', '#10b981'], zIndex: 2000 }); }
    
    // Tag Rolling
    const TRUST_PHRASES = ["Trending", "Bestseller", "4.9/5 Rated", "Instant Access"];
    let phraseIndex = 0;
    function updateTag() {
        const c = document.getElementById('custom-tag-container');
        if (!c) return;
        c.innerHTML = `<div class="subtle-tag"><i data-lucide="zap" class="h-3 w-3 text-indigo-300"></i><div class="tag-text-wrapper"><span class="tag-text" id="rollingText">${TRUST_PHRASES[0]}</span></div><span class="tag-shine"></span></div>`;
        lucide.createIcons();
        setInterval(() => {
            phraseIndex = (phraseIndex + 1) % TRUST_PHRASES.length;
            const el = document.getElementById('rollingText');
            if(el) { el.classList.remove('animate-rollUpSmooth'); void el.offsetWidth; el.textContent = TRUST_PHRASES[phraseIndex]; el.classList.add('animate-rollUpSmooth'); }
        }, 2500);
    }

    // --- PRELOAD AND PREVIEW LOGIC ---
    function preloadAllImages() {
        const cover = dom.cover;
        if(!cover) return;
        cover.setAttribute('aria-busy', 'true');
        Promise.all([SOURCE_IMAGE, ...SCREENSHOT_URLS].map(url => new Promise(r => { const i = new Image(); i.src=url; i.onload=r; i.onerror=r; })))
        .then(() => {
            dom.coverImg.src = SOURCE_IMAGE;
            requestAnimationFrame(()=> { dom.coverImg.style.opacity = '0.6'; dom.coverImg.style.transform = 'scale(1)'; });
            setTimeout(() => {
                dom.coverImg.style.opacity = '1'; 
                dom.coverShine.style.transition = 'opacity 0.32s ease'; dom.coverShine.style.opacity = '0';
                dom.loadingSpin.style.opacity = '0'; 
                setTimeout(()=> {
                     dom.coverShine.style.display = 'none'; dom.loadingSpin.style.display = 'none';
                     dom.cover.classList.add('loaded'); dom.cover.setAttribute('aria-busy','false');
                     
                     dom.previewIndicator.style.display = 'block';
                     setTimeout(() => { 
                        dom.previewIndicator.style.opacity = '0'; 
                        setTimeout(() => { dom.previewIndicator.style.display = 'none'; }, 500); 
                     }, 4000);
                }, 450);
            }, 700);
        });
    }

    // --- SCREENSHOT PREVIEW LOGIC ---
    let currentImageIndex = 0;
    function showPreviewImage(index) {
        if (index >= SCREENSHOT_URLS.length) index = 0; else if (index < 0) index = SCREENSHOT_URLS.length - 1;
        currentImageIndex = index;
        
        dom.previewShine.style.display = 'block'; 
        dom.previewScreenshot.style.opacity = '0.5';
        
        const tempImg = new Image(); 
        tempImg.src = SCREENSHOT_URLS[currentImageIndex];
        tempImg.onload = () => {
            dom.previewShine.style.display = 'none'; 
            dom.previewScreenshot.src = tempImg.src;
            dom.imageCounter.textContent = `${currentImageIndex + 1}/${SCREENSHOT_URLS.length}`;
            dom.previewScreenshot.style.opacity = '1';
            
            dom.previewScreenshot.classList.remove('animate-subtleZoomIn');
            void dom.previewScreenshot.offsetWidth;
            dom.previewScreenshot.classList.add('animate-subtleZoomIn');
        };
    }

    dom.cover.addEventListener('click', e => { 
        if(dom.previewOverlay.style.opacity === '1') {
             e.stopPropagation(); 
             showPreviewImage(currentImageIndex + 1);
        } else {
             e.preventDefault(); 
             dom.coverImg.style.opacity = '0'; 
             dom.previewOverlay.style.opacity = '1'; 
             dom.previewOverlay.style.pointerEvents = 'auto'; 
             currentImageIndex = -1; 
             showPreviewImage(0); 
             lucide.createIcons(); 
             dom.previewIndicator.style.display = 'none'; 
        }
    });

    function exitPreview(e) { 
        if(e) e.stopPropagation(); 
        dom.previewScreenshot.classList.remove('animate-subtleZoomIn');
        setTimeout(() => { 
            dom.previewOverlay.style.opacity = '0'; 
            dom.previewOverlay.style.pointerEvents = 'none'; 
            dom.previewScreenshot.style.opacity = '0'; 
            dom.coverImg.style.opacity = '1'; 
        }, 300);
    }

    // Payment Modal Logic
    let countdownInterval;
    function openPaymentModal() { document.getElementById('paymentModal').style.display = 'flex'; document.getElementById('paymentModalContent').classList.add('animate-modalFadeIn'); document.getElementById('paymentLangSelection').style.display = 'flex'; document.getElementById('cashfreeIframe').style.display = 'none'; lucide.createIcons(); }
    function closePaymentModal() { document.getElementById('paymentModal').style.display = 'none'; if(countdownInterval) clearInterval(countdownInterval); }
    function handlePaymentLanguageSelection(lang) {
        document.getElementById('paymentLangSelection').style.display = 'none'; document.getElementById('paymentLoader').style.display = 'flex';
        sessionStorage.setItem('payment_initiated', 'true'); sessionStorage.setItem('selected_language', lang);
        
        // USE DYNAMIC LINK HERE
        document.getElementById('cashfreeIframe').src = currentPaymentUrl;
        
        setTimeout(() => { document.getElementById('paymentLoader').style.display = 'none'; document.getElementById('cashfreeIframe').style.display = 'block'; }, 2000);
        let tl = 240; document.getElementById('paymentTimer').style.display='block';
        countdownInterval = setInterval(() => { tl--; document.getElementById('timerCount').textContent = `${Math.floor(tl/60)}:${(tl%60)<10?'0':''}${tl%60}`; if(tl<0) closePaymentModal(); }, 1000);
    }
    document.getElementById('buyBtn').addEventListener('click', (e) => { e.preventDefault(); openPaymentModal(); });

    // Payment Confirm Logic
    function openConfirmationModal() { document.getElementById('confirmationModal').classList.add('active'); document.getElementById('confirmationModal').style.display='flex'; }
    function confirmExitPayment(y) { document.getElementById('confirmationModal').classList.remove('active'); setTimeout(()=>document.getElementById('confirmationModal').style.display='none',300); if(y) closePaymentModal(); }

    // Feedback
    function submitFeedback() {
        const txt = document.getElementById('feedbackTextarea');
        if(!txt.value.trim()) { txt.classList.add('border-red-500'); return; }
        document.getElementById('feedbackForm').style.display='none'; document.getElementById('feedbackSuccess').style.display='block';
        setTimeout(() => { document.getElementById('feedbackModal').style.display='none'; }, 2000);
    }
    
    // Smooth Details
    document.querySelectorAll('summary').forEach(s => s.addEventListener('click', function(e) {
        e.preventDefault();
        const c = this.parentElement.querySelector('.details-content');
        if(this.parentElement.hasAttribute('open')) { c.style.height='0'; setTimeout(()=>this.parentElement.removeAttribute('open'),300); }
        else { this.parentElement.setAttribute('open',''); c.style.height='auto'; const h=c.offsetHeight; c.style.height='0'; void c.offsetWidth; c.style.height=h+'px'; c.style.opacity='1'; }
    }));
  </script>
</body>
</html>
